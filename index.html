<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="./src/main/js/graph.js"></script>
    <script type="text/javascript" src="./src/main/js/data.js"></script>
</head>
<body>
  <div id="wrapper" >
    <div id="team_names" style="width: 200px; height: 1000px; float: left; display:block; margin-top: 157px">
    </div>
    <div id="chart_wrapper" style="width: 700px; height: 1000px; overflow: hidden; float: left">
      <div id="chart_lines" style="width: 900px; height: 1000px; margin: 0 0 0 -160px"></div>
    </div>
  </div>
</body>
<script type="text/javascript">
      function drawTeamNames(teams) {
          var teamNamesNode = document.getElementById("team_names");
          while (teamNamesNode.firstChild) {
            teamNamesNode.removeChild(teamNamesNode.firstChild);
          }
          for (let i = 0; i < teams.length; i++) {
            var node = document.createElement("div");
            node.style = "float: left; width: 100%; text-align: right; margin-bottom: 6.7px"
            var teamNameNode = document.createTextNode(teams[i]);
            node.appendChild(teamNameNode);
            teamNamesNode.appendChild(node);
          }
      }
      function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
      }
      async function drawEverything(data) {
          await sleep(2000);
          for (let index = 0; index < data.length; index++) {
              drawTeamNames(data[index].teams);
              createGraph(data[index].teamData, colours);
              await sleep(2000);
          }
      }

      drawEverything(data);

  </script>
</html>

